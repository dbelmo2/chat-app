(this["webpackJsonpthe-lounge"]=this["webpackJsonpthe-lounge"]||[]).push([[0],{40:function(e,t,n){},42:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n.n(a),s=n(33),r=n.n(s),i=n(14),l=n(21),o=n(30),u=(n(40),n(9)),p=n(18),j=n(15),d=n.n(j),h=n(19),b=(n(42),n(24));b.a.initializeApp({apiKey:"AIzaSyB_t8D_XE6j1jafZXKVR3dDM97A284QJrs",authDomain:"chatty--app.firebaseapp.com",projectId:"chatty--app",storageBucket:"chatty--app.appspot.com",messagingSenderId:"617837362774",appId:"1:617837362774:web:23fa55d65f5c52505345f7",measurementId:"G-96T16EQFWW"});var m=b.a.auth,f=b.a.database();function x(e,t){return m().createUserWithEmailAndPassword(e,t)}function O(e,t){return m().signInWithEmailAndPassword(e,t)}function g(){var e=new m.GoogleAuthProvider;return m().signInWithPopup(e)}function v(){var e=new m.GithubAuthProvider;return m().signInWithPopup(e)}function y(){return m().signOut()}var w=n(2);var N=function(e){var t=e.isSignUp,n=Object(a.useState)(!1),c=Object(i.a)(n,2),s=c[0],r=c[1],l=Object(a.useState)(""),o=Object(i.a)(l,2),u=o[0],j=o[1];function b(){return(b=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g();case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),r(!0),j("Google sign in failed");case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function y(){return(y=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),r(!0),j("Github sign in failed");case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function N(){return(N=Object(h.a)(d.a.mark((function e(n){var a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),a=document.getElementById("email-input"),c=document.getElementById("password-input"),console.log("Email: "+a.value),console.log("Password: "+c.value),!0!==t){e.next=21;break}return s=document.getElementById("screen-name-input"),r(!1),e.prev=8,e.next=11,x(a.value,c.value);case 11:return e.next=13,f.ref("users").child(m().currentUser.uid).set(s.value);case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),console.log(e.t0),j("Sign up failed");case 19:e.next=30;break;case 21:return e.prev=21,e.next=24,O(a.value,c.value);case 24:e.next=30;break;case 26:e.prev=26,e.t1=e.catch(21),r(!0),j("Login failed");case 30:case"end":return e.stop()}}),e,null,[[8,15],[21,26]])})))).apply(this,arguments)}return Object(w.jsx)("div",{className:"page--container",children:Object(w.jsxs)("div",{className:"page--wrapper",children:[Object(w.jsxs)("div",{className:"form--pane",children:[Object(w.jsx)("div",{className:"form--header-wrapper",children:Object(w.jsx)("h1",{className:"form--header",children:"The Lounge"})}),s?Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("p",{className:"form--error",children:u})}):null,Object(w.jsxs)("form",{className:"form--style",onSubmit:function(e){return N.apply(this,arguments)},children:[Object(w.jsx)("input",{id:"email-input",className:"email--input-style",name:"email",type:"email",placeholder:"Email"}),Object(w.jsx)("input",{id:"password-input",height:"50px",className:t?"email--input-style":"password--input-style",name:"password",type:"password",placeholder:"Password"}),t?Object(w.jsx)("input",{id:"screen-name-input",height:"50px",className:"email--input-style",name:"name",type:"name",placeholder:"User Name"}):null,Object(w.jsx)("button",{className:"ripple",type:"submit",children:t?"Sign up":"Log in"})]})]}),Object(w.jsxs)("div",{className:"form--bottom-wrapper",children:[Object(w.jsx)("button",{onClick:function(){return b.apply(this,arguments)},className:"g ripple2",children:t?"Sign up with Google":"Log in with Google"}),Object(w.jsx)("button",{onClick:function(){return y.apply(this,arguments)},className:"f ripple3",children:t?"Sign Up with Github":"Log In with Github"})]}),Object(w.jsxs)("div",{className:"form--bottom-text-wrapper",children:[Object(w.jsxs)("p",{className:"form--bottom-text",children:[" ",t?"Already have an account?":"Don't have an account?"," "]}),Object(w.jsxs)(p.b,{className:"form--bottom-text-link",to:t?"/LogIn":"/SignUp",children:[" ",t?"Log in":"Sign up"," "]})]})]})})};var S=function(){return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(N,{isSignUp:!0})})};var I=function(){return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(N,{isSignUp:!1})})};n(51);var C=function(){return Object(w.jsx)("div",{className:"home--container",children:Object(w.jsxs)("div",{className:"home--wrapper",children:[Object(w.jsx)("div",{className:"header--wrapper",children:Object(w.jsx)("h1",{className:"header--style",children:" the Lounge "})}),Object(w.jsxs)("div",{className:"buttons--wrapper",children:[Object(w.jsx)(p.b,{to:"/LogIn",children:Object(w.jsx)("button",{class:"ripple",children:" Log In "})}),Object(w.jsx)(p.b,{to:"/SignUp",children:Object(w.jsx)("button",{class:"ripple",children:" Sign Up "})})]})]})})},k=(n(52),n(29));var L=function(){var e=Object(a.useState)(m().currentUser),t=Object(i.a)(e,2),n=t[0],c=(t[1],Object(a.useState)([])),s=Object(i.a)(c,2),r=s[0],l=s[1],o=Object(a.useState)(null),u=Object(i.a)(o,2),p=(u[0],u[1]),j=Object(a.useState)(n.email),b=Object(i.a)(j,2),x=b[0],O=b[1],g=Object(a.useState)(null),v=Object(i.a)(g,2),N=(v[0],v[1]),S=function(){var e=document.getElementById("scrollBox");e.scrollTop=e.scrollHeight};function I(){return(I=Object(h.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==(n=document.getElementById("message-input").value)){e.next=4;break}return e.abrupt("return");case 4:return N(null),e.prev=5,e.next=8,f.ref("chats").push({content:n,timestamp:Date.now(),sender:x});case 8:document.getElementById("message-input").value="",e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),N(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){p(null);try{f.ref("/users/"+n.uid).once("value").then((function(e){null!=e.val()&&O(e.val()),console.log("Username set to: "+x)})),f.ref("chats").on("value",(function(e){var t=[];e.forEach((function(e){t.push(e.val())})),l([].concat(t)),setTimeout(S,200)}))}catch(e){console.log(e),p(e.message)}}),[]),Object(w.jsxs)("div",{className:"Chat--container",children:[Object(w.jsxs)("div",{className:"Chat--navbar",children:[Object(w.jsx)("h1",{className:"Chat--header",children:"the Lounge"}),Object(w.jsxs)("button",{onClick:y,style:{alignSelf:"flex-end",marginLeft:0,marginTop:0},className:"signout ripple",children:[" ",Object(w.jsx)(k.b,{size:30})]})]}),Object(w.jsx)("div",{id:"scrollBox",className:"Chat--wrapper",children:r.map((function(e,t){return console.log("Sender: "+e.sender+" content: "+e.content),Object(w.jsxs)("div",{style:{alignSelf:e.sender===x?"flex-end":"flex-start"},className:"Chat--message-wrapper",children:[Object(w.jsx)("div",{style:{display:"flex",justifyContent:e.sender===x?"flex-end":"flex-start"},children:Object(w.jsxs)("p",{style:{marginLeft:e.sender===x?0:7,marginRight:e.sender===x?7:0},className:"Chat--sender-name",children:[" ",e.sender," "]})}),Object(w.jsx)("div",{style:{justifyContent:e.sender===x?"flex-end":"flex-start"},className:"Chat--message-bubble",children:Object(w.jsx)("p",{className:"Chat--message",children:e.content},e.timestamp)})]})}))}),Object(w.jsx)("div",{className:"Chat--input-wrapper",children:Object(w.jsxs)("form",{onSubmit:function(e){return I.apply(this,arguments)},children:[Object(w.jsx)("input",{id:"message-input",className:"Chat--message-input",name:"message",type:"message",placeholder:"Aa"}),Object(w.jsx)("button",{className:"send-button ripple",children:Object(w.jsx)(k.a,{size:20,style:{marginRight:1}})})]})})]})};function E(e){var t=e.component,n=e.authenticated,a=Object(o.a)(e,["component","authenticated"]);return Object(w.jsx)(u.b,Object(l.a)(Object(l.a)({},a),{},{render:function(e){return!0===n?Object(w.jsx)(t,Object(l.a)({},e)):Object(w.jsx)(u.a,{to:{pathname:"/LogIn",state:{from:e.location}}})}}))}function U(e){var t=e.component,n=e.authenticated,a=Object(o.a)(e,["component","authenticated"]);return Object(w.jsx)(u.b,Object(l.a)(Object(l.a)({},a),{},{render:function(e){return!1===n?Object(w.jsx)(t,Object(l.a)({},e)):Object(w.jsx)(u.a,{to:"/Chat"})}}))}var B=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!0),r=Object(i.a)(s,2),l=(r[0],r[1]);return Object(a.useEffect)((function(){m().onAuthStateChanged((function(e){e?(c(!0),l(!1)):(c(!1),l(!0))}))}),[]),Object(w.jsx)(p.a,{children:Object(w.jsxs)(u.d,{children:[Object(w.jsx)(u.b,{path:"/chat-app/",exact:!0,component:C}),Object(w.jsx)(U,{authenticated:n,path:"/LogIn",component:I}),Object(w.jsx)(U,{authenticated:n,path:"/SignUp",component:S}),Object(w.jsx)(E,{authenticated:n,path:"/Chat",component:L})]})})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,54)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(B,{})}),document.getElementById("root")),A()}},[[53,1,2]]]);
//# sourceMappingURL=main.9b1633c5.chunk.js.map